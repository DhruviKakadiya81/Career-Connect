<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Facelet Title</title>
        <style> 
        
            body {
                font-family: Arial, sans-serif;
                margin: 0;
                padding: 0;
            }
            
        .dataTableWrapper .ui-datatable th { background-color: #0b8fdc; color: white; font-size: 17px; }


        .dataTableWrapper .ui-datatable tbody td {
            border-bottom: 2px solid #0b8fdc !important;
        }

         .companyHead {
                font-size: 40px;
                color: #095c9d;
                font-weight: 500;
            }        
        .acceptButton {
            background-color: white !important; /* White background */
            border: 2px solid #4CAF50 !important; /* Green border */
            color: #4CAF50 !important; /* Green text */
            padding: 10px 24px !important;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px !important;
            margin: 4px 2px !important;
            cursor: pointer;
            border-radius: 12px !important;
        }
        
        .cancelButton {
            background-color: white !important; /* White background */
            border: 2px solid #f44336 !important; /* Red border */
            color: #f44336 !important; /* Red text */
            padding: 10px 24px !important;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px !important;
            margin: 4px 2px !important;
            cursor: pointer;
            border-radius: 12px !important;
        }
        

        .acceptButton .pi-check {
            color: #4CAF50 !important; /* Green icon */
        }

        .cancelButton .pi-times {
            color: #f44336 !important; /* Red icon */
        }
        
        
        .scheduleButton {
        background-color: #0b8fdc; /* Background color */
        border: 2px solid #0b8fdc; /* Border color */
        color: white; /* Text color */
        padding: 8px 20px; /* Padding */
        text-align: center; /* Centered text */
        text-decoration: none; /* No underline */
        display: inline-block; /* Inline block display */
        font-size: 16px; /* Font size */
        cursor: pointer; /* Pointer cursor on hover */
        border-radius: 12px; /* Rounded corners */
        transition: background-color 0.3s, color 0.3s; /* Smooth transition for background and text color */
    }

    .scheduleButton:hover {
        background-color: white; /* Background color on hover */
        color: #0b8fdc; /* Text color on hover */
    }

    .scheduleButton:focus {
        outline: none; /* Remove outline on focus */
        box-shadow: 0 0 10px #0b8fdc; /* Add a shadow on focus */
    }

    .scheduleButton:active {
        background-color: #0a7ecb; /* Background color when button is pressed */
        border-color: #0a7ecb; /* Border color when button is pressed */
    }
        
    </style>
    </h:head>
    <f:metadata>
    <f:viewParam value="#{companyCdi.loggedInUser.userId}" name="companyId"/>
    <!--<f:event type="preRenderView" listener="#{jobRequestCdi.findJobRequestsByCompanyIdAndAccepted(companyCdi.loggedInUser.userId)}"/>-->
    </f:metadata>
    <h:body>
        <ui:include src="CompanySidebar.xhtml"/>
        <div class="content" id="content">
            <f:view>
                <h:form id="jobRequestForm">
                    <h1 class="companyHead p-2"><h:outputText value="Accepted Request"/></h1>
                    <div class="card">
                <div class="dataTableWrapper">
                    <p:dataTable var="j" value="#{acceptedJobRequestCdi.acceptedJobRequestCollection}">
                        <p:column headerText="Job Request Id" class="tblColumn">
                            <h:outputText value="#{j.jobRequestId}" />
                        </p:column>
                        <p:column headerText="Message">
                            <h:outputText value="#{j.message}" />
                        </p:column>
                        <p:column headerText="Status">
                            <h:outputText value="#{j.status}" />
                        </p:column>
                        <p:column headerText="Requested Date">
                            <h:outputText value="#{j.requestedDate}" >
                            <f:convertDateTime pattern="dd/MM/yyyy" /></h:outputText>
                        </p:column>
                        <p:column headerText="Job Title">
                            <h:outputText value="#{j.jobId.jobTitle}" />
                        </p:column>
                        <p:column headerText="User Name">
                            <h:outputText value="#{j.userId.FName}" />
                            <h:outputText value="#{j.userId.LName}" />
                        </p:column>
                        <p:column headerText="Schedule">
                            <h:commandButton value="Schedule Interview" styleClass="scheduleButton" action="#{acceptedJobRequestCdi.GoToScheduleInterview(j)}">
                            </h:commandButton>
                        </p:column>
                    </p:dataTable>
                </div>
            </div>
                </h:form>
            </f:view>
        </div>
    </h:body>
</html>
